<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>OTP - Page</title>
	<link rel="stylesheet" href="build/bootstrap.css">
	<link rel="stylesheet" href="build/app.css">
	<link rel="stylesheet" href="build/custom.css">
</head>
<body class="bg-login" style="overflow: hidden;">

	<!-- OTP Section  -->
	<div class="row no-gutters">
		<div class="col-6 verification">
			<figure class="figure phoneLeft">
			  <img src="src/img/phone.png" class="figure-img img-fluid" alt="otp">
			  <figcaption class="figure-caption phoneText">Verification</figcaption>
			</figure>
		</div>
		<div class="col-lg-6 p-5 mt-5 pl-lg-5">
			<div class="object">
				<img src="src/img/object-g.png" class="img-fluid">
			</div>
			<h3 class="font-bold mt-4">Please enter the OTP code sent to +91 98456 65516</h3>
			<form action="" class="d-block">
				<div class="form-group d-flex">
					<input id="codeBox1" type="number" class="otp invalid-otp" maxlength="1" onkeyup="onKeyUpEvent(1, event)" onfocus="onFocusEvent(1)" value="4">
					<input id="codeBox2" type="number" class="otp invalid-otp" maxlength="1" onkeyup="onKeyUpEvent(2, event)" onfocus="onFocusEvent(2)" value="5">
					<input id="codeBox3" type="number" class="otp invalid-otp" maxlength="1" onkeyup="onKeyUpEvent(3, event)" onfocus="onFocusEvent(3)" value="8">
					<input id="codeBox4" type="number" class="otp invalid-otp" maxlength="1" onkeyup="onKeyUpEvent(4, event)" onfocus="onFocusEvent(4)" value="4">
				</div>

				<span class="otp-ask text-muted">Didn't get code? <a href="#" class="text-primary">Resend OTP</a></span>
				
				<div class="form-group mt-4">
					<span class="invalid-otp font-bold">Incorrect OTP, please try again.</span><br>
					<button type="submit" class="btn btn-danger mt-4 round btn-lg text-uppercase">done</button>
				</div>
			</form>	
		</div>
	</div>

</body>
<script src="src/js/bootstrap.js"></script>
<script type="text/javascript">
	function getCodeBoxElement(index) {
	  return document.getElementById('codeBox' + index);
	}
	function onKeyUpEvent(index, event) {
	  const eventCode = event.which || event.keyCode;
	  if (getCodeBoxElement(index).value.length === 1) {
		 if (index !== 4) {
			getCodeBoxElement(index+ 1).focus();
		 } else {
			getCodeBoxElement(index).blur();
			// Submit code
			console.log('submit code ');
		 }
	  }
	  if (eventCode === 8 && index !== 1) {
		 getCodeBoxElement(index - 1).focus();
	  }
	}
	function onFocusEvent(index) {
	  for (item = 1; item < index; item++) {
		 const currentElement = getCodeBoxElement(item);
		 if (!currentElement.value) {
			  currentElement.focus();
			  break;
		 }
	  }
	}
</script>
</html>